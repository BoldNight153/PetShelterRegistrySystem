{"numFailedTestSuites":3,"numFailedTests":4,"numPassedTestSuites":22,"numPassedTests":82,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":25,"numTotalTests":86,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1763904071669,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Admin Authentication settings endpoints"],"duration":115,"failing":false,"failureDetails":[{"matcherResult":{"actual":["google","microsoft","authy","1password","okta","webauthn_keys","platform_passkeys","sms_backup","push_trusted","backup_codes"],"expected":["google","microsoft","authy","1password","okta","backup_codes"],"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // deep equality\u001b[22m\n\n\u001b[32m- Expected  - 0\u001b[39m\n\u001b[31m+ Received  + 4\u001b[39m\n\n\u001b[33m@@ -2,7 +2,11 @@\u001b[39m\n\u001b[2m    \"google\",\u001b[22m\n\u001b[2m    \"microsoft\",\u001b[22m\n\u001b[2m    \"authy\",\u001b[22m\n\u001b[2m    \"1password\",\u001b[22m\n\u001b[2m    \"okta\",\u001b[22m\n\u001b[31m+   \"webauthn_keys\",\u001b[39m\n\u001b[31m+   \"platform_passkeys\",\u001b[39m\n\u001b[31m+   \"sms_backup\",\u001b[39m\n\u001b[31m+   \"push_trusted\",\u001b[39m\n\u001b[2m    \"backup_codes\",\u001b[22m\n\u001b[2m  ]\u001b[22m","name":"toEqual","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // deep equality\u001b[22m\n\n\u001b[32m- Expected  - 0\u001b[39m\n\u001b[31m+ Received  + 4\u001b[39m\n\n\u001b[33m@@ -2,7 +2,11 @@\u001b[39m\n\u001b[2m    \"google\",\u001b[22m\n\u001b[2m    \"microsoft\",\u001b[22m\n\u001b[2m    \"authy\",\u001b[22m\n\u001b[2m    \"1password\",\u001b[22m\n\u001b[2m    \"okta\",\u001b[22m\n\u001b[31m+   \"webauthn_keys\",\u001b[39m\n\u001b[31m+   \"platform_passkeys\",\u001b[39m\n\u001b[31m+   \"sms_backup\",\u001b[39m\n\u001b[31m+   \"push_trusted\",\u001b[39m\n\u001b[2m    \"backup_codes\",\u001b[22m\n\u001b[2m  ]\u001b[22m\n    at Object.<anonymous> (C:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\src\\tests\\admin.settings.test.ts:58:51)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Admin Authentication settings endpoints returns normalized auth settings via GET /admin/settings","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763904088036,"status":"failed","title":"returns normalized auth settings via GET /admin/settings"},{"ancestorTitles":["Admin Authentication settings endpoints"],"duration":123,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Admin Authentication settings endpoints sanitizes payloads on PUT /admin/settings for auth category","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1763904088154,"status":"passed","title":"sanitizes payloads on PUT /admin/settings for auth category"}],"endTime":1763904088301,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAdmin Authentication settings endpoints › returns normalized auth settings via GET /admin/settings\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // deep equality\u001b[22m\n\n    \u001b[32m- Expected  - 0\u001b[39m\n    \u001b[31m+ Received  + 4\u001b[39m\n\n    \u001b[33m@@ -2,7 +2,11 @@\u001b[39m\n    \u001b[2m    \"google\",\u001b[22m\n    \u001b[2m    \"microsoft\",\u001b[22m\n    \u001b[2m    \"authy\",\u001b[22m\n    \u001b[2m    \"1password\",\u001b[22m\n    \u001b[2m    \"okta\",\u001b[22m\n    \u001b[31m+   \"webauthn_keys\",\u001b[39m\n    \u001b[31m+   \"platform_passkeys\",\u001b[39m\n    \u001b[31m+   \"sms_backup\",\u001b[39m\n    \u001b[31m+   \"push_trusted\",\u001b[39m\n    \u001b[2m    \"backup_codes\",\u001b[22m\n    \u001b[2m  ]\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 56 |\u001b[39m     expect(res\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 57 |\u001b[39m     expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msettings\u001b[33m.\u001b[39mauth\u001b[33m.\u001b[39mgoogle)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 58 |\u001b[39m     expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msettings\u001b[33m.\u001b[39mauth\u001b[33m.\u001b[39mauthenticators)\u001b[33m.\u001b[39mtoEqual(\u001b[33mDEFAULT_AUTH_SETTINGS\u001b[39m\u001b[33m.\u001b[39mauthenticators)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 59 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 60 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 61 |\u001b[39m   it(\u001b[32m'sanitizes payloads on PUT /admin/settings for auth category'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/tests/admin.settings.test.ts\u001b[39m\u001b[0m\u001b[2m:58:51)\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\src\\tests\\admin.settings.test.ts","startTime":1763904072319,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Auth lockout and password history"],"duration":646,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth lockout and password history auto locks after threshold of failed attempts and unlocks after duration","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"startAt":1763904090205,"status":"passed","title":"auto locks after threshold of failed attempts and unlocks after duration"},{"ancestorTitles":["Auth lockout and password history"],"duration":530,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth lockout and password history manual lock/unlock via admin sends reset email token and revokes sessions","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"startAt":1763904090852,"status":"passed","title":"manual lock/unlock via admin sends reset email token and revokes sessions"},{"ancestorTitles":["Auth lockout and password history"],"duration":287,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth lockout and password history prevents reusing last 10 passwords","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1763904091382,"status":"passed","title":"prevents reusing last 10 passwords"}],"endTime":1763904091674,"message":"","name":"C:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\src\\tests\\auth.lockout-history.test.ts","startTime":1763904088330,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["OAuth flows (google/github)"],"duration":21,"failing":false,"failureDetails":[{"matcherResult":{"actual":403,"expected":302,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m302\u001b[39m\nReceived: \u001b[31m403\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m302\u001b[39m\nReceived: \u001b[31m403\u001b[39m\n    at Object.<anonymous> (C:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\src\\tests\\auth.oauth.test.ts:30:26)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"OAuth flows (google/github) google: start -> callback issues cookies and redirects success","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1763904092356,"status":"failed","title":"google: start -> callback issues cookies and redirects success"},{"ancestorTitles":["OAuth flows (google/github)"],"duration":58,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"OAuth flows (google/github) github: start -> callback issues cookies and redirects success","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1763904092378,"status":"passed","title":"github: start -> callback issues cookies and redirects success"}],"endTime":1763904092448,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mOAuth flows (google/github) › google: start -> callback issues cookies and redirects success\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m302\u001b[39m\n    Received: \u001b[31m403\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 28 |\u001b[39m     \u001b[90m// Start\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 29 |\u001b[39m     \u001b[36mconst\u001b[39m start \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request(app)\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/auth/oauth/google/start'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 30 |\u001b[39m     expect(start\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[35m302\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 31 |\u001b[39m     \u001b[36mconst\u001b[39m stateCookie \u001b[33m=\u001b[39m getCookie(start\u001b[33m.\u001b[39mheaders[\u001b[32m'set-cookie'\u001b[39m]\u001b[33m,\u001b[39m \u001b[32m'oauth_state'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 32 |\u001b[39m     expect(stateCookie)\u001b[33m.\u001b[39mtoBeTruthy()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 33 |\u001b[39m     \u001b[36mconst\u001b[39m stateValue \u001b[33m=\u001b[39m (stateCookie \u001b[33m||\u001b[39m \u001b[32m''\u001b[39m)\u001b[33m.\u001b[39msplit(\u001b[32m';'\u001b[39m)[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39msplit(\u001b[32m'='\u001b[39m)[\u001b[35m1\u001b[39m]\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/tests/auth.oauth.test.ts\u001b[39m\u001b[0m\u001b[2m:30:26)\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\src\\tests\\auth.oauth.test.ts","startTime":1763904091699,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Auth legacy password hash handling"],"duration":176,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth legacy password hash handling logs in with a bcrypt hash and upgrades it to argon2","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763904093215,"status":"passed","title":"logs in with a bcrypt hash and upgrades it to argon2"},{"ancestorTitles":["Auth legacy password hash handling"],"duration":103,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth legacy password hash handling returns 401 instead of 500 for corrupt hashes","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763904093391,"status":"passed","title":"returns 401 instead of 500 for corrupt hashes"}],"endTime":1763904093519,"message":"","name":"C:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\src\\tests\\auth.legacy-hash.test.ts","startTime":1763904092457,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["SettingsService"],"duration":2,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'findMany')\n    at SettingsService.listSettings (C:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\src\\services\\settingsService.ts:24:76)\n    at Object.<anonymous> (C:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\src\\tests\\services\\settingsService.test.ts:49:20)"],"fullName":"SettingsService normalizes audit and auth settings when listing","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1763904093702,"status":"failed","title":"normalizes audit and auth settings when listing"},{"ancestorTitles":["SettingsService"],"duration":4,"failing":false,"failureDetails":[{}],"failureMessages":["TypeError: Cannot read properties of undefined (reading 'findMany')\n    at SettingsService.upsertSettings (C:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\src\\services\\settingsService.ts:41:76)\n    at Object.<anonymous> (C:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\src\\tests\\services\\settingsService.test.ts:60:19)\n    at Promise.finally.completed (c:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (c:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (c:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at _runTest (c:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at c:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (c:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (c:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (c:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (c:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (c:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (c:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\node_modules\\jest-runner\\build\\index.js:275:16)\n    at runTest (c:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\node_modules\\jest-runner\\build\\index.js:343:7)"],"fullName":"SettingsService sanitizes auth entries before writing to the database","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1763904093717,"status":"failed","title":"sanitizes auth entries before writing to the database"}],"endTime":1763904093728,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSettingsService › normalizes audit and auth settings when listing\u001b[39m\u001b[22m\n\n    TypeError: Cannot read properties of undefined (reading 'findMany')\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 22 |\u001b[39m     }\u001b[22m\n\u001b[2m     \u001b[90m 23 |\u001b[39m     \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mcategory \u001b[33m||\u001b[39m category \u001b[33m===\u001b[39m \u001b[32m'auth'\u001b[39m) {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 24 |\u001b[39m       \u001b[36mconst\u001b[39m allowedAuthenticators \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mprisma\u001b[33m.\u001b[39mauthenticatorCatalog\u001b[33m.\u001b[39mfindMany({\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 25 |\u001b[39m         where\u001b[33m:\u001b[39m { isArchived\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m }\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 26 |\u001b[39m         orderBy\u001b[33m:\u001b[39m { sortOrder\u001b[33m:\u001b[39m \u001b[32m'asc'\u001b[39m }\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 27 |\u001b[39m         select\u001b[33m:\u001b[39m { id\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat SettingsService.listSettings (\u001b[22m\u001b[2msrc/services/settingsService.ts\u001b[2m:24:76)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/tests/services/settingsService.test.ts\u001b[39m\u001b[0m\u001b[2m:49:20)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSettingsService › sanitizes auth entries before writing to the database\u001b[39m\u001b[22m\n\n    TypeError: Cannot read properties of undefined (reading 'findMany')\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 39 |\u001b[39m     \u001b[36mlet\u001b[39m allowedIds\u001b[33m:\u001b[39m string[] \u001b[33m|\u001b[39m undefined\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 40 |\u001b[39m     \u001b[36mif\u001b[39m (category \u001b[33m===\u001b[39m \u001b[32m'auth'\u001b[39m) {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 41 |\u001b[39m       \u001b[36mconst\u001b[39m allowedAuthenticators \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mthis\u001b[39m\u001b[33m.\u001b[39mprisma\u001b[33m.\u001b[39mauthenticatorCatalog\u001b[33m.\u001b[39mfindMany({\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 42 |\u001b[39m         where\u001b[33m:\u001b[39m { isArchived\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m }\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 43 |\u001b[39m         select\u001b[33m:\u001b[39m { id\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m }\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 44 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat SettingsService.upsertSettings (\u001b[22m\u001b[2msrc/services/settingsService.ts\u001b[2m:41:76)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/tests/services/settingsService.test.ts\u001b[39m\u001b[0m\u001b[2m:60:19)\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\src\\tests\\services\\settingsService.test.ts","startTime":1763904093526,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Auth rate limiting - IP throttle"],"duration":1275,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth rate limiting - IP throttle throttles repeated login attempts by IP","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1763904094443,"status":"passed","title":"throttles repeated login attempts by IP"},{"ancestorTitles":["Auth rate limiting - per-user lockout"],"duration":1364,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth rate limiting - per-user lockout locks out a specific email after repeated failures","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1763904095778,"status":"passed","title":"locks out a specific email after repeated failures"}],"endTime":1763904097200,"message":"","name":"C:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\src\\tests\\auth.rate-limit.test.ts","startTime":1763904093739,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["SecurityService"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SecurityService builds a snapshot with derived overview data","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1763904097519,"status":"passed","title":"builds a snapshot with derived overview data"},{"ancestorTitles":["SecurityService"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SecurityService returns session summary even when no tokens exist","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763904097523,"status":"passed","title":"returns session summary even when no tokens exist"},{"ancestorTitles":["SecurityService"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SecurityService returns null snapshot when user is missing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763904097527,"status":"passed","title":"returns null snapshot when user is missing"},{"ancestorTitles":["SecurityService"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SecurityService updates recovery settings and persists metadata","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1763904097530,"status":"passed","title":"updates recovery settings and persists metadata"},{"ancestorTitles":["SecurityService"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SecurityService returns null when updating recovery for unknown user","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763904097533,"status":"passed","title":"returns null when updating recovery for unknown user"},{"ancestorTitles":["SecurityService"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SecurityService updates alert preferences and persists metadata","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1763904097534,"status":"passed","title":"updates alert preferences and persists metadata"},{"ancestorTitles":["SecurityService","changePassword"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SecurityService changePassword updates password, records history, and revokes other sessions","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1763904097537,"status":"passed","title":"updates password, records history, and revokes other sessions"},{"ancestorTitles":["SecurityService","changePassword"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SecurityService changePassword rejects weak passwords","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763904097540,"status":"passed","title":"rejects weak passwords"},{"ancestorTitles":["SecurityService","mfa management"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SecurityService mfa management starts totp enrollment and persists pending metadata","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1763904097542,"status":"passed","title":"starts totp enrollment and persists pending metadata"},{"ancestorTitles":["SecurityService","mfa management"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SecurityService mfa management associates catalog selections when provided during enrollment","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1763904097544,"status":"passed","title":"associates catalog selections when provided during enrollment"},{"ancestorTitles":["SecurityService","mfa management"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SecurityService mfa management rejects unknown catalog identifiers","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763904097548,"status":"passed","title":"rejects unknown catalog identifiers"},{"ancestorTitles":["SecurityService","mfa management"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SecurityService mfa management rotates the existing factor when the requested label already exists","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1763904097550,"status":"passed","title":"rotates the existing factor when the requested label already exists"},{"ancestorTitles":["SecurityService","mfa management"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SecurityService mfa management regenerates an existing totp factor and schedules rotation","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1763904097552,"status":"passed","title":"regenerates an existing totp factor and schedules rotation"},{"ancestorTitles":["SecurityService","mfa management"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SecurityService mfa management updates catalog association when rotating with a new selection","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763904097560,"status":"passed","title":"updates catalog association when rotating with a new selection"},{"ancestorTitles":["SecurityService","mfa management"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SecurityService mfa management confirms pending totp enrollment and refreshes backup codes","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1763904097566,"status":"passed","title":"confirms pending totp enrollment and refreshes backup codes"},{"ancestorTitles":["SecurityService","mfa management"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SecurityService mfa management enables a disabled factor","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763904097570,"status":"passed","title":"enables a disabled factor"},{"ancestorTitles":["SecurityService","mfa management"],"duration":43,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SecurityService mfa management rejects enabling revoked factors","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763904097573,"status":"passed","title":"rejects enabling revoked factors"}],"endTime":1763904097618,"message":"","name":"C:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\src\\tests\\security.service.test.ts","startTime":1763904097206,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Admin endpoints"],"duration":35,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Admin endpoints lists roles and permissions","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1763904098482,"status":"passed","title":"lists roles and permissions"},{"ancestorTitles":["Admin endpoints"],"duration":70,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Admin endpoints upserts and deletes a role, auditing actions","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1763904098518,"status":"passed","title":"upserts and deletes a role, auditing actions"},{"ancestorTitles":["Admin endpoints"],"duration":89,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Admin endpoints grants and revokes permissions to a role with audit logging","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"startAt":1763904098589,"status":"passed","title":"grants and revokes permissions to a role with audit logging"},{"ancestorTitles":["Admin endpoints"],"duration":128,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Admin endpoints assigns and revokes a role from a user with audit logging","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"startAt":1763904098679,"status":"passed","title":"assigns and revokes a role from a user with audit logging"},{"ancestorTitles":["Admin endpoints"],"duration":30,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Admin endpoints returns 404 for granting permission to non-existent role or permission","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763904098808,"status":"passed","title":"returns 404 for granting permission to non-existent role or permission"},{"ancestorTitles":["Admin endpoints"],"duration":165,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Admin endpoints returns 404 when deleting a non-existent role","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763904098839,"status":"passed","title":"returns 404 when deleting a non-existent role"},{"ancestorTitles":["Admin endpoints"],"duration":97,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Admin endpoints returns 400 for invalid payloads on upsert/grant/revoke/assign/revoke","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1763904099005,"status":"passed","title":"returns 400 for invalid payloads on upsert/grant/revoke/assign/revoke"},{"ancestorTitles":["Admin endpoints"],"duration":36,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Admin endpoints returns enriched audit feed entries with derived metadata","invocations":1,"location":null,"numPassingAsserts":15,"retryReasons":[],"startAt":1763904099103,"status":"passed","title":"returns enriched audit feed entries with derived metadata"},{"ancestorTitles":["Admin endpoints"],"duration":30,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Admin endpoints filters audit logs by actor search query and reports stats metadata","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1763904099140,"status":"passed","title":"filters audit logs by actor search query and reports stats metadata"}],"endTime":1763904099175,"message":"","name":"C:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\src\\tests\\admin.endpoints.test.ts","startTime":1763904097627,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Admin menus endpoints"],"duration":133,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Admin menus endpoints creates, lists, gets, updates and deletes a menu","invocations":1,"location":null,"numPassingAsserts":14,"retryReasons":[],"startAt":1763904099995,"status":"passed","title":"creates, lists, gets, updates and deletes a menu"},{"ancestorTitles":["Admin menus endpoints"],"duration":225,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Admin menus endpoints manages menu items and preserves nested tree/order","invocations":1,"location":null,"numPassingAsserts":15,"retryReasons":[],"startAt":1763904100129,"status":"passed","title":"manages menu items and preserves nested tree/order"},{"ancestorTitles":["Admin menus endpoints"],"duration":70,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Admin menus endpoints enforces RBAC (403 for non-admin)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763904100354,"status":"passed","title":"enforces RBAC (403 for non-admin)"},{"ancestorTitles":["Admin menus endpoints"],"duration":309,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Admin menus endpoints returns 400 for invalid payloads and 404 for missing resources","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"startAt":1763904100425,"status":"passed","title":"returns 400 for invalid payloads and 404 for missing resources"}],"endTime":1763904100737,"message":"","name":"C:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\src\\tests\\admin.menus.test.ts","startTime":1763904099188,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Admin authenticator catalog endpoints"],"duration":84,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Admin authenticator catalog endpoints creates and lists authenticator catalog entries","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1763904101793,"status":"passed","title":"creates and lists authenticator catalog entries"},{"ancestorTitles":["Admin authenticator catalog endpoints"],"duration":230,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Admin authenticator catalog endpoints archives and restores an authenticator entry","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1763904101878,"status":"passed","title":"archives and restores an authenticator entry"},{"ancestorTitles":["Admin authenticator catalog endpoints"],"duration":143,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Admin authenticator catalog endpoints prevents non admins from listing authenticators","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763904102109,"status":"passed","title":"prevents non admins from listing authenticators"}],"endTime":1763904102256,"message":"","name":"C:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\src\\tests\\admin.authenticators.test.ts","startTime":1763904100745,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["More routes integration tests"],"duration":231,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"More routes integration tests creates a pet and performs related CRUD operations","invocations":1,"location":null,"numPassingAsserts":11,"retryReasons":[],"startAt":1763904103448,"status":"passed","title":"creates a pet and performs related CRUD operations"}],"endTime":1763904103682,"message":"","name":"C:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\src\\tests\\routes.more.test.ts","startTime":1763904102264,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Auth Phase 1"],"duration":25,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Phase 1 issues CSRF token","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1763904105105,"status":"passed","title":"issues CSRF token"},{"ancestorTitles":["Auth Phase 1"],"duration":76,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Phase 1 registers a new user and sets cookies","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1763904105131,"status":"passed","title":"registers a new user and sets cookies"},{"ancestorTitles":["Auth Phase 1"],"duration":93,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Phase 1 logs in an existing user and sets cookies","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1763904105208,"status":"passed","title":"logs in an existing user and sets cookies"},{"ancestorTitles":["Auth Phase 1"],"duration":114,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Phase 1 updates profile metadata via /auth/me","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1763904105302,"status":"passed","title":"updates profile metadata via /auth/me"}],"endTime":1763904105418,"message":"","name":"C:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\src\\tests\\auth.test.ts","startTime":1763904103687,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Email verification and password reset"],"duration":220,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Email verification and password reset issues verification token and verifies email","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"startAt":1763904106549,"status":"passed","title":"issues verification token and verifies email"},{"ancestorTitles":["Email verification and password reset"],"duration":275,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Email verification and password reset requests password reset and resets password","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"startAt":1763904106769,"status":"passed","title":"requests password reset and resets password"}],"endTime":1763904107045,"message":"","name":"C:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\src\\tests\\auth.verify-reset.test.ts","startTime":1763904105431,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Auth MFA flow"],"duration":76,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth MFA flow responds with MFA challenge for enrolled users","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1763904108764,"status":"passed","title":"responds with MFA challenge for enrolled users"},{"ancestorTitles":["Auth MFA flow"],"duration":83,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth MFA flow verifies MFA challenge and issues session cookies","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1763904108842,"status":"passed","title":"verifies MFA challenge and issues session cookies"}],"endTime":1763904108943,"message":"","name":"C:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\src\\tests\\auth.mfa.test.ts","startTime":1763904107057,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Admin Docs gating"],"duration":85,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Admin Docs gating denies access to non-admin users (403)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763904110058,"status":"passed","title":"denies access to non-admin users (403)"},{"ancestorTitles":["Admin Docs gating"],"duration":155,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Admin Docs gating allows system_admin to access admin docs JSON","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1763904110143,"status":"passed","title":"allows system_admin to access admin docs JSON"}],"endTime":1763904110300,"message":"","name":"C:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\src\\tests\\admin.docs.test.ts","startTime":1763904108955,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["CRUD routes smoke tests"],"duration":98,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CRUD routes smoke tests creates a shelter, reads it, updates it and deletes it","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"startAt":1763904111462,"status":"passed","title":"creates a shelter, reads it, updates it and deletes it"},{"ancestorTitles":["CRUD routes smoke tests"],"duration":87,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CRUD routes smoke tests creates a location for a shelter and updates it","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1763904111561,"status":"passed","title":"creates a location for a shelter and updates it"},{"ancestorTitles":["CRUD routes smoke tests"],"duration":86,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CRUD routes smoke tests creates an owner and updates then deletes","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"startAt":1763904111649,"status":"passed","title":"creates an owner and updates then deletes"}],"endTime":1763904111744,"message":"","name":"C:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\src\\tests\\routes.crud.test.ts","startTime":1763904110306,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Auth Session: refresh and logout"],"duration":147,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Session: refresh and logout refresh rotates refresh token and issues new access token","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"startAt":1763904112448,"status":"passed","title":"refresh rotates refresh token and issues new access token"},{"ancestorTitles":["Auth Session: refresh and logout"],"duration":117,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Session: refresh and logout logout clears cookies and revokes token","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1763904112597,"status":"passed","title":"logout clears cookies and revokes token"}],"endTime":1763904112715,"message":"","name":"C:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\src\\tests\\auth.session.test.ts","startTime":1763904111751,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["pets"],"duration":23,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"pets GET /pets returns 200","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763904113391,"status":"passed","title":"GET /pets returns 200"}],"endTime":1763904113421,"message":"","name":"C:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\src\\tests\\pets.test.ts","startTime":1763904112726,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["MenuService","buildTree"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MenuService buildTree builds a nested tree from flat items and sorts by order","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1763904113733,"status":"passed","title":"builds a nested tree from flat items and sorts by order"},{"ancestorTitles":["MenuService","listMenus"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MenuService listMenus returns menus with nested items by grouping items per menu","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"startAt":1763904113737,"status":"passed","title":"returns menus with nested items by grouping items per menu"}],"endTime":1763904113741,"message":"","name":"C:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\src\\tests\\menu.service.test.ts","startTime":1763904113443,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["NotificationService"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NotificationService returns defaults when metadata is missing","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763904114048,"status":"passed","title":"returns defaults when metadata is missing"},{"ancestorTitles":["NotificationService"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NotificationService builds topics from legacy security alerts when notifications are absent","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1763904114055,"status":"passed","title":"builds topics from legacy security alerts when notifications are absent"},{"ancestorTitles":["NotificationService"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NotificationService updates notification settings and persists derived security alerts","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"startAt":1763904114059,"status":"passed","title":"updates notification settings and persists derived security alerts"},{"ancestorTitles":["NotificationService"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NotificationService returns null when the user is missing","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1763904114063,"status":"passed","title":"returns null when the user is missing"}],"endTime":1763904114072,"message":"","name":"C:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\src\\tests\\notification.service.test.ts","startTime":1763904113748,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["RoleService"],"duration":11,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RoleService listRoles","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763904114432,"status":"passed","title":"listRoles"},{"ancestorTitles":["RoleService"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RoleService upsertRole and delete","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763904114444,"status":"passed","title":"upsertRole and delete"},{"ancestorTitles":["RoleService"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"RoleService permissions flow","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1763904114447,"status":"passed","title":"permissions flow"}],"endTime":1763904114452,"message":"","name":"C:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\src\\tests\\role.service.test.ts","startTime":1763904114080,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["UserService"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserService searchUsers returns shaped data","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1763904114726,"status":"passed","title":"searchUsers returns shaped data"},{"ancestorTitles":["UserService"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserService getUser returns null when not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1763904114732,"status":"passed","title":"getUser returns null when not found"},{"ancestorTitles":["UserService"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserService assignRole and revokeRole behave as expected","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763904114740,"status":"passed","title":"assignRole and revokeRole behave as expected"},{"ancestorTitles":["UserService"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UserService lockUser and unlockUser work","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763904114743,"status":"passed","title":"lockUser and unlockUser work"}],"endTime":1763904114747,"message":"","name":"C:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\src\\tests\\user.service.test.ts","startTime":1763904114461,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["AuthService (unit)"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AuthService (unit) create and find refresh token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763904114968,"status":"passed","title":"create and find refresh token"},{"ancestorTitles":["AuthService (unit)"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AuthService (unit) create and find verification token","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763904114976,"status":"passed","title":"create and find verification token"},{"ancestorTitles":["AuthService (unit)"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AuthService (unit) consuming an already consumed verification token should update consumedAt","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1763904114988,"status":"passed","title":"consuming an already consumed verification token should update consumedAt"},{"ancestorTitles":["AuthService (unit)"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AuthService (unit) expired refresh token should still be found but indicate expiry via expiresAt","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763904114990,"status":"passed","title":"expired refresh token should still be found but indicate expiry via expiresAt"},{"ancestorTitles":["AuthService (unit)"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AuthService (unit) revoking a refresh token sets revokedAt","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763904114992,"status":"passed","title":"revoking a refresh token sets revokedAt"},{"ancestorTitles":["AuthService (unit)"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AuthService (unit) oauth account linking creates account when none exists","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763904114996,"status":"passed","title":"oauth account linking creates account when none exists"}],"endTime":1763904114999,"message":"","name":"C:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\src\\tests\\auth.service.test.ts","startTime":1763904114770,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["PetService (unit)"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PetService (unit) list returns array","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1763904115176,"status":"passed","title":"list returns array"},{"ancestorTitles":["PetService (unit)"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PetService (unit) create/get/update/delete flow","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1763904115181,"status":"passed","title":"create/get/update/delete flow"}],"endTime":1763904115187,"message":"","name":"C:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\src\\tests\\pet.service.test.ts","startTime":1763904115009,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["AuthService edge cases"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AuthService edge cases consumeVerificationToken sets consumedAt","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1763904115404,"status":"passed","title":"consumeVerificationToken sets consumedAt"},{"ancestorTitles":["AuthService edge cases"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AuthService edge cases revokeRefreshToken updates revokedAt and revokeAll updates multiple","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1763904115408,"status":"passed","title":"revokeRefreshToken updates revokedAt and revokeAll updates multiple"}],"endTime":1763904115411,"message":"","name":"C:\\Users\\Public\\Documents\\Projects\\Incomplete\\repos\\clones\\PetShelterRegistrySystem\\backend\\src\\tests\\auth.service.edge.test.ts","startTime":1763904115199,"status":"passed","summary":""}],"wasInterrupted":false}
